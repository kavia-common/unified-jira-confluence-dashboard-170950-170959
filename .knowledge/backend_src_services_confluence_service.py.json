{"is_source_file": true, "format": "Python", "description": "This source file implements a client service class for interacting with the Confluence API, including methods to fetch spaces, space details, space content, and validate connections, with authentication support for OAuth and API tokens.", "external_files": ["src/models/auth.py"], "external_methods": ["TokenInfo", "AuthMethod"], "published": ["ConfluenceService", "ConfluenceServiceError"], "classes": [{"name": "ConfluenceService", "description": "Service class for Confluence API interactions, managing authentication and providing methods to fetch spaces, details, content, and validate connection."}, {"name": "ConfluenceServiceError", "description": "Custom exception class for errors encountered while interacting with the Confluence API."}], "methods": [{"name": "__init__(self, token_info: TokenInfo)", "description": "Initializes the ConfluenceService with authentication info and base URL.", "scope": "ConfluenceService", "scopeKind": "class"}, {"name": "str _get_base_url(self)", "description": "Determines the API base URL based on authentication method and domain.", "scope": "ConfluenceService", "scopeKind": "class"}, {"name": "Dict[str,str] _get_headers(self)", "description": "Constructs HTTP headers with appropriate authentication based on auth method.", "scope": "ConfluenceService", "scopeKind": "class"}, {"name": "List[Dict[str,Any]] get_spaces(self)", "description": "Fetches the list of Confluence spaces accessible with the provided credentials.", "scope": "ConfluenceService", "scopeKind": "class"}, {"name": "Optional[Dict[str,Any]] get_space_details(self, space_key: str)", "description": "Retrieves detailed information about a specific Confluence space identified by its key.", "scope": "ConfluenceService", "scopeKind": "class"}, {"name": "List[Dict[str,Any]] get_space_content(self, space_key: str, limit: int = 25)", "description": "Gets content items from a specific space, with an optional limit.", "scope": "ConfluenceService", "scopeKind": "class"}, {"name": "bool validate_connection(self)", "description": "Checks if the connection to Confluence API is valid by attempting to fetch spaces.", "scope": "ConfluenceService", "scopeKind": "class"}], "calls": ["client.get", "httpx.AsyncClient()", "json()", "base64.b64encode"], "search-terms": ["Confluence API", "async HTTP requests", "OAuth and API token auth", "get_spaces", "get_space_details", "get_space_content", "validate_connection", "confluence_service.py"], "state": 2, "file_id": 14, "knowledge_revision": 56, "git_revision": "", "revision_history": [{"32": ""}, {"56": ""}], "ctags": [{"_type": "tag", "name": "ConfluenceService", "path": "/home/kavia/workspace/code-generation/unified-jira-confluence-dashboard-170950-170959/backend/src/services/confluence_service.py", "pattern": "/^class ConfluenceService:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "ConfluenceServiceError", "path": "/home/kavia/workspace/code-generation/unified-jira-confluence-dashboard-170950-170959/backend/src/services/confluence_service.py", "pattern": "/^class ConfluenceServiceError(Exception):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "__init__", "path": "/home/kavia/workspace/code-generation/unified-jira-confluence-dashboard-170950-170959/backend/src/services/confluence_service.py", "pattern": "/^    def __init__(self, token_info: TokenInfo):$/", "language": "Python", "kind": "member", "signature": "(self, token_info: TokenInfo)", "scope": "ConfluenceService", "scopeKind": "class"}, {"_type": "tag", "name": "_get_base_url", "path": "/home/kavia/workspace/code-generation/unified-jira-confluence-dashboard-170950-170959/backend/src/services/confluence_service.py", "pattern": "/^    def _get_base_url(self) -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "member", "signature": "(self)", "scope": "ConfluenceService", "scopeKind": "class"}, {"_type": "tag", "name": "_get_headers", "path": "/home/kavia/workspace/code-generation/unified-jira-confluence-dashboard-170950-170959/backend/src/services/confluence_service.py", "pattern": "/^    def _get_headers(self) -> Dict[str, str]:$/", "language": "Python", "typeref": "typename:Dict[str,str]", "kind": "member", "signature": "(self)", "scope": "ConfluenceService", "scopeKind": "class"}, {"_type": "tag", "name": "get_space_content", "path": "/home/kavia/workspace/code-generation/unified-jira-confluence-dashboard-170950-170959/backend/src/services/confluence_service.py", "pattern": "/^    async def get_space_content(self, space_key: str, limit: int = 25) -> List[Dict[str, Any]]:$/", "language": "Python", "typeref": "typename:List[Dict[str,Any]]", "kind": "member", "signature": "(self, space_key: str, limit: int = 25)", "scope": "ConfluenceService", "scopeKind": "class"}, {"_type": "tag", "name": "get_space_details", "path": "/home/kavia/workspace/code-generation/unified-jira-confluence-dashboard-170950-170959/backend/src/services/confluence_service.py", "pattern": "/^    async def get_space_details(self, space_key: str) -> Optional[Dict[str, Any]]:$/", "language": "Python", "typeref": "typename:Optional[Dict[str,Any]]", "kind": "member", "signature": "(self, space_key: str)", "scope": "ConfluenceService", "scopeKind": "class"}, {"_type": "tag", "name": "get_spaces", "path": "/home/kavia/workspace/code-generation/unified-jira-confluence-dashboard-170950-170959/backend/src/services/confluence_service.py", "pattern": "/^    async def get_spaces(self) -> List[Dict[str, Any]]:$/", "language": "Python", "typeref": "typename:List[Dict[str,Any]]", "kind": "member", "signature": "(self)", "scope": "ConfluenceService", "scopeKind": "class"}, {"_type": "tag", "name": "validate_connection", "path": "/home/kavia/workspace/code-generation/unified-jira-confluence-dashboard-170950-170959/backend/src/services/confluence_service.py", "pattern": "/^    async def validate_connection(self) -> bool:$/", "language": "Python", "typeref": "typename:bool", "kind": "member", "signature": "(self)", "scope": "ConfluenceService", "scopeKind": "class"}], "hash": "51aecdc6888276fa1478bc912eda514c", "format-version": 4, "code-base-name": "backend", "filename": "backend/src/services/confluence_service.py"}