{"is_source_file": true, "format": "Python", "description": "This file defines API endpoints for interacting with Confluence via a FastAPI router. It includes functions to get spaces, get space details, retrieve space content, and validate the connection, utilizing the ConfluenceService for backend operations and handling authentication via session cookies.", "external_files": ["src.services.confluence_service", "src.auth.utils", "src.utils.error_handler"], "external_methods": ["get_session", "ConfluenceService", "ConfluenceServiceError", "APIErrorHandler.create_success_response", "APIErrorHandler.handle_service_error", "log_api_error"], "published": ["get_confluence_service"], "classes": [{"name": "ConfluenceService", "description": "Service class providing methods to interact with Confluence API such as fetching spaces, space details, content, and validating connection."}], "methods": [{"name": "ConfluenceService get_confluence_service(session_id: Optional[str] = Cookie(None))", "description": "Dependency function that retrieves an authenticated ConfluenceService instance based on session cookie.", "scope": "", "scopeKind": ""}, {"name": "get_space_content( space_key: str, limit: int = Query(25, ge=1, le=100, description=\"Number of content items to return\"), confluence_service: ConfluenceService = Depends(get_confluence_service) )", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "get_space_details( space_key: str, confluence_service: ConfluenceService = Depends(get_confluence_service) )", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "get_spaces(confluence_service: ConfluenceService = Depends(get_confluence_service))", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "validate_connection(confluence_service: ConfluenceService = Depends(get_confluence_service))", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["get_session", "ConfluenceService", "confluence_service.get_spaces", "confluence_service.get_space_details", "confluence_service.get_space_content", "confluence_service.validate_connection", "APIErrorHandler.create_success_response", "APIErrorHandler.handle_service_error", "log_api_error"], "search-terms": ["FastAPI Confluence endpoints", "confluence space retrieval", "Get Confluence space details", "Validate Confluence connection", "ConfluenceService interaction", "API route for Confluence"], "state": 2, "file_id": 17, "knowledge_revision": 54, "git_revision": "", "revision_history": [{"39": ""}, {"51": ""}, {"52": ""}, {"54": ""}], "ctags": [{"_type": "tag", "name": "get_confluence_service", "path": "/home/kavia/workspace/code-generation/unified-jira-confluence-dashboard-170950-170959/backend/src/api/endpoints/confluence.py", "pattern": "/^async def get_confluence_service(session_id: Optional[str] = Cookie(None)) -> ConfluenceService:$/", "language": "Python", "typeref": "typename:ConfluenceService", "kind": "function", "signature": "(session_id: Optional[str] = Cookie(None))"}, {"_type": "tag", "name": "get_space_content", "path": "/home/kavia/workspace/code-generation/unified-jira-confluence-dashboard-170950-170959/backend/src/api/endpoints/confluence.py", "pattern": "/^async def get_space_content($/", "language": "Python", "kind": "function", "signature": "( space_key: str, limit: int = Query(25, ge=1, le=100, description=\"Number of content items to return\"), confluence_service: ConfluenceService = Depends(get_confluence_service) )"}, {"_type": "tag", "name": "get_space_details", "path": "/home/kavia/workspace/code-generation/unified-jira-confluence-dashboard-170950-170959/backend/src/api/endpoints/confluence.py", "pattern": "/^async def get_space_details($/", "language": "Python", "kind": "function", "signature": "( space_key: str, confluence_service: ConfluenceService = Depends(get_confluence_service) )"}, {"_type": "tag", "name": "get_spaces", "path": "/home/kavia/workspace/code-generation/unified-jira-confluence-dashboard-170950-170959/backend/src/api/endpoints/confluence.py", "pattern": "/^async def get_spaces(confluence_service: ConfluenceService = Depends(get_confluence_service)):$/", "language": "Python", "kind": "function", "signature": "(confluence_service: ConfluenceService = Depends(get_confluence_service))"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/unified-jira-confluence-dashboard-170950-170959/backend/src/api/endpoints/confluence.py", "pattern": "/^router = APIRouter(prefix=\"\\/confluence\", tags=[\"Confluence\"])$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "validate_connection", "path": "/home/kavia/workspace/code-generation/unified-jira-confluence-dashboard-170950-170959/backend/src/api/endpoints/confluence.py", "pattern": "/^async def validate_connection(confluence_service: ConfluenceService = Depends(get_confluence_ser/", "language": "Python", "kind": "function", "signature": "(confluence_service: ConfluenceService = Depends(get_confluence_service))"}], "hash": "630c47b218ccd87b5969a9eb148d2dc9", "format-version": 4, "code-base-name": "backend", "filename": "backend/src/api/endpoints/confluence.py", "fields": [{"name": "router = APIRouter(prefix=\"\\/confluence\", tags=[\"Confluence\"])", "scope": "", "scopeKind": "", "description": "unavailable"}]}